<div class="header">
  <h1 class="sample-content">Welcome to Food App</h1>

  <hr>

  <div [hidden]="dataService.allFoods.length > 0 && dataService.allConditions.length > 0">Loading...</div>

  <div [hidden]="dataService.allFoods.length === 0 || dataService.allConditions.length === 0">
    <div class="button-container clearfix">
      <div class="button" [class.btn-selected]="showFood" (click)="showItemList('food')">Foods</div>
      <div class="button" [class.btn-selected]="showCondition" (click)="showItemList('condition')">Conditions</div>
    </div>
  </div>
<div [hidden]="!showFood && !showCondition">
  Search: <input type="text" [ngModel]="searchModel" (ngModelChange)="searchValueChanged($event)" />
</div>
</div>


<br>
<div class="container-outer">
      <div class="container-fade-top"></div>
    <div class="container-fade-bottom"></div>

<div class="selection-container" *ngIf="showFood">
  <div class="checkbox-container">
    <div *ngFor="let food of (searchModel.length > 0) ? itemSet : dataService.allFoods; let i = index">
      <input type="checkbox" [id]="'item' + i" name="allFoods" value="{{food.item}}" (click)="onSelectItem(food, 'food')" [disabled]="checkedFoods >= 5 && !food.checked"
        [(ngModel)]="food.checked" />
      <label [for]="'item' + i"><span>{{food.item}}</span></label>
    </div>
  </div>
</div>

<div class="selection-container" *ngIf="showCondition">
  <div class="checkbox-container">
    <div *ngFor="let condition of (searchModel.length > 0) ? itemSet : dataService.allConditions; let i = index">
      <input type="checkbox" [id]="'item' + i" name="allConditions" value="{{condition.item}}" (click)="onSelectItem(condition, 'condition')"
        [disabled]="checkedConditions >= 5 && !condition.checked" [(ngModel)]="condition.checked" />
      <label [for]="'item' + i"><span>{{condition.item}}</span></label>
    </div>
  </div>
</div>
</div>

<div class="footer" *ngIf="showFood || showCondition">
  <div class="button" [class.btn-disabled]="(showCondition && checkedConditions === 0) || (showFood && checkedFoods === 0)" 
  (click)="((showCondition && checkedConditions > 0) || (showFood && checkedFoods > 0)) && selectItems()">Continue</div>
</div>
